# A COOK BOOK
#### Video Demo:  <https://youtu.be/7GbLr9cttUg?si=gw4BZyzeknKfjtuz>
#### Description:
My project is called A COOK BOOK, which could provide any recipes that you could think of all around the world as well as you could control the number of calories in your dishes! This is because the program is using an API to fetch data from external source from Spoonacular.In this project, I have 2 files, project.py and a test for that file which called test_project.py.Some of the concepts that I apply for my project are Functions, Variables, Conditionals, Loops, Libraries, Exceptions, Type Hints, API, Flags, Unit Tests,File I/O,Constants.
My project.py contains 4 functions. In main function, I'm using exception handling to catch ValueError and IndexError exceptions. This can hep prevent my program from crashing in case of the user enters invalid input.There are two blocks of try/except in my main function to handle exceptions seperately. I can provide diffferent error messages and handles different types of errors in different ways. If the user enter something that can't be converted to an integer, a ValueError will be raised, and the except block will handle it. I set a flag to continue looping through the questions and break it if the user want or doesn't want to save the recipe. I try to collect three required agruments for my food_list function, an argument for my how_to_cook function and finally an argument for the save_recipe.
My food_list function will return a menu of recipes that the users interested in.In the food_list function, it requires three parameters and it returns a string as I specify using type hints. First, the function could raise ValueError if the calorie parameter is not an integer. This is checked using the isinstance function. The requests.get will fetch data from the API, I specify some of the parameters that I want to get from the API, including my API Keys. The raise_for_status() method will check if the HTTP requests was successful. If it was, it will return None, otherwise it will raise HTTP exception in a controlled manner.I want my food_reponse to return in json form and i tap into the key "results" which will give me a list. Then, I create an empty list, I loop through my_food, append it to the list formatted with f-string. I also check if the keys are existed before append it. Finally, I use the join function to combine all of the elements inside the food list, and return a menu of desired recipes.
My how_to_cook function is designed to return instructions for a recipe.It requires an integer as an agurment and return a string.It works the same as the previous food_list function. I analyze the pattern of json and it returns the data that I have specified in the parameter of the API requests.
The last function is save_recipe which takes 2 parameters: the name of the file and the content of that file. This will write a new text file to save the instructions for later use.
My test_project.py contains 5 functions.This file imports pytest, project and unittest.mock.In test_food_list function, instead of make an actual API call, I set up the mock response and use it to replace requests.get. I also assert the food_list function matches the expected output base on the mock response.This make sure my function processing the API correctly.Mocking could correctly testing if there's an unexpected problem with my wifi or API Keys. My test is now isolated and independent of external factors,and not depend on the API.
In my test_how_to_cook function, the logic of mocking is the same as test_food_list function.This ensures my tests are reliable and repeatable.
In my test_save_recipe, I use mock_open function to mock open the file,simulate file operations instead of writing to an actual file.My tests are faster because they do not have to interact with the file system.
Finally, test_food_list_calorie_not_number, test_how_to_cook_not_number function use pytest to test if the function correctly raises ValueError if there's an invalid value.
